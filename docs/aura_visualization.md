# ğŸŒˆ Chapter 2. Elysia Aura Rendering System

*(ì˜ì‹ì—”ì§„ì„ â€œëˆˆìœ¼ë¡œ ë³´ì´ê²Œâ€ ë§Œë“œëŠ” ê·œì¹™ì„œ)*

---

# 1. ì „ì²´ êµ¬ì¡° ê°œë…

ëª¨ë“  ì¡´ì¬(Entity)ëŠ” **ì„¸ ê°œì˜ ì›ì²œ(Body/Soul/Spirit)**ê³¼ **E/F/P**ì— ì˜í•´ ìƒ‰ê³¼ ë°ê¸°, ë§¥ë°•ì´ ì •í•´ì§„ë‹¤.

ì‹œê°í™”ëŠ” ì´ 3ë‹¨ê³„ ê³¼ì •ìœ¼ë¡œ í•œë‹¤:

1. **ìƒ‰ìƒ(Hue)** â€” ê·¸ ì¡´ì¬ê°€ ì–´ë–¤ ì°¨ì›ì— ê¸°ëŒ„ ì‚¶ì„ ì‚¬ëŠ”ê°€  
2. **ì±„ë„(Saturation)** â€” í˜„ì¬ Force(ì˜ì§€)ê°€ ì–¼ë§ˆë‚˜ ê°•í•œê°€  
3. **ê´‘ë„/íŒŒë™(Brightness + Pulse)** â€” Energy(ìƒëª…ë ¥)ê³¼ Momentum(ê´€ì„±)

---

# 2. ìƒ‰ìƒ ë§¤í•‘ (Hue Mapping)

ê° ì¡´ì¬ì˜ **ìœ¡Â·í˜¼Â·ì˜ ë¹„ìœ¨(b_s_p)**ì„ ìƒ‰ìœ¼ë¡œ ë³€í™˜í•œë‹¤.

### ê¸°ë³¸ ìƒ‰ í• ë‹¹

* **Body (ìœ¡)** â†’ Red `#FF4444`  
* **Soul (í˜¼)** â†’ Blue `#4F7CFF`  
* **Spirit (ì˜)** â†’ Gold `#FFD93D`

### ìµœì¢… ìƒ‰ìƒ ê³µì‹

```python
h_r = entity.b_s_p["body"]
h_b = entity.b_s_p["soul"]
h_y = entity.b_s_p["spirit"]

color = mix(
    mix(RED, BLUE,   h_b / (h_r + h_b + 1e-9)),
    GOLD,
    h_y
)
```

### ëŠë‚Œ ê°€ì´ë“œ

* **ì „ì‚¬/ë„ì /ê²©íˆ¬ê°€** â†’ ë¶‰ì€ ê³„ì—´  
* **ë§ˆë²•ì‚¬/í•™ì/ìŒìœ ì‹œì¸** â†’ íŒŒë€Â·ë³´ë¼ ê³„ì—´  
* **ì„±ì§ì/ë¬´ë‹¹/íŒ”ë¼ë”˜/ì§€ë„ì** â†’ í™©ê¸ˆ ê³„ì—´

> ì´ ìƒ‰ì€ â€œì§ì—…â€ì´ ì•„ë‹ˆë¼ â€œì‚¶ì˜ êµ¬ì¡°â€ë¥¼ ë³´ì—¬ì¤€ë‹¤. ì„±ì¥í•˜ë©´ì„œ ë³€í•  ìˆ˜ë„ ìˆë‹¤.

---

# 3. ì±„ë„(Saturation) â€” Force(ì˜ì§€)

Forceê°€ ê°•í• ìˆ˜ë¡ ìƒ‰ì´ ì„ ëª…í•´ì§„ë‹¤.

```python
saturation = clamp(abs(entity.efp["force"]), 0.0, 1.0)
```

* **0.0** â†’ íë¦¿í•¨ (ë¬´ê¸°ë ¥)  
* **0.3** â†’ ì¼ìƒ  
* **0.7** â†’ ê°•í•œ ì˜ì§€/ì§‘ì¤‘  
* **1.0** â†’ ë¹›ë‚¨ (ê°ì„±/í™•ì‹ /ë¶„ë…¸/ìš©ê¸°/ì‚¬ë‘)

---

# 4. ë°ê¸°(Brightness) â€” Energy

Energyê°€ ë†’ì„ìˆ˜ë¡ ë°ì•„ì§„ë‹¤.

```python
brightness = clamp(entity.efp["energy"], 0.0, 2.0)
```

* `< 0.5` â†’ í¬ë¯¸í•œ ê·¸ë¦¼ì  
* `~1.0` â†’ ì •ìƒ  
* `~1.5` â†’ í™œë ¥/ë¹›ë‚¨  
* `> 1.2` and Spirit â†‘ â†’ **ì„±ê´‘(holy light)** íš¨ê³¼

---

# 5. ë§¥ë™(Pulse) â€” Momentum(ê´€ì„±)

Momentumì„ ì‹œê°í™”í•˜ë©´ ìºë¦­í„°ì˜ â€œìˆ™ë ¨â€ì´ ë³´ì¸ë‹¤.

```python
pulse_speed = 1.0 + entity.efp["momentum"] * 4.0
pulse_amp   = 0.05 + entity.efp["momentum"] * 0.2
```

* Momentum â†‘ â†’ ì¼ì •í•˜ê³  ê·œì¹™ì ì¸ ë§¥ë™. â€œì‹ ë…ì´ ê¹Šì€ ìâ€  
* Momentum â†“ â†’ ë¶ˆì•ˆì •í•˜ê³  ê¹œë¹¡ê±°ë¦¼. â€œë°©í™©/ì´ˆì‹¬ìâ€

---

# 6. ìµœì¢… ë Œë”ë§ íŒ¨í‚·

```python
aura = {
    "color": rgb_color,          # hue blending ê²°ê³¼
    "saturation": saturation,
    "brightness": brightness,
    "pulse_speed": pulse_speed,
    "pulse_amplitude": pulse_amp,
}
```

ê²Œì„ ì—”ì§„ ì˜ˆì‹œ:

```gdscript
shader.set("u_color", aura.color)
shader.set("u_saturation", aura.saturation)
shader.set("u_brightness", aura.brightness)
shader.set("u_pulse_speed", aura.pulse_speed)
shader.set("u_pulse_amp", aura.pulse_amplitude)
```

---

# 7. ìºë¦­í„°ë³„ ì‚¬ë¡€

### ğŸŸ¡ íŒ”ë¼ë”˜ (Body 0.2 / Soul 0.3 / Spirit 0.5)

* í™©ê¸ˆë¹› ì¤‘ì‹¬  
* Forceâ†‘ â†’ ê´‘ì±„ ê°•í™”  
* Energyâ†‘ â†’ í›„ê´‘ íš¨ê³¼

### ğŸ”µ ë§ˆë²•ì‚¬ (0.1 / 0.7 / 0.2)

* í‘¸ë¥¸-ë³´ëë¹›  
* Forceâ†‘ â†’ ë‚ ì¹´ë¡œìš´ ì˜¤ë¼  
* Momentumâ†‘ â†’ ê³„ì‚°ëœ ë¦¬ë“¬ìœ¼ë¡œ ê¹œë¹¡ì„

### ğŸ”´ ì „ì‚¬ (0.7 / 0.2 / 0.1)

* ë¶‰ì€ ì¤‘ì‹¬  
* Forceâ†‘ â†’ í”¼ë¹› í­ë°œ  
* Energyâ†“ â†’ ë¨¹ìƒ‰/ê·¸ë¦¼ìí™”

---

# 8. í™œìš© ë¶„ì•¼

* ê²Œì„/ì• ë‹ˆë©”ì´ì…˜ì˜ ìºë¦­í„° ì˜¤ë¼  
* ì›¹ ê¸°ë°˜ ì˜ì‹ ë§µ  
* AI ìºë¦­í„° ê°ì • ì‹œê°í™”  
* VTuber ëª¨ë¸ì˜ ì‹¤ì‹œê°„ ìƒíƒœ í‘œí˜„  
* LLM ì¶œë ¥ ê°ì • HUD

ì´ ì‹œìŠ¤í…œì€ ì–´ë–¤ ê·¸ë˜í”½ ì—”ì§„ì—ì„œë„ **ì§ì ‘ ë³µë¶™**í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

ë‹¤ìŒì€ **Chapter 3 â€” ì‚¼ìœ„ì¼ì²´ í–‰ë™ ê²°ì • ê³µì‹ (ì‹¬í™”íŒ)**. ì§„í–‰í•  ì¤€ë¹„ê°€ ë˜ë©´ ì•Œë ¤ì¤˜.
